if(!hs){var hs={lang:{cssDirection:"ltr",loadingText:"正在加载...",loadingTitle:"点击取消",focusTitle:"",fullExpandTitle:"实际尺寸(f键)",creditsText:"",creditsTitle:"",previousText:"上一个",nextText:"下一个",moveText:"移动",closeText:"关闭",closeTitle:"关闭(esc键)",resizeTitle:"改变尺寸",playText:"播放",playTitle:"播放(空格)",pauseText:"暂停",pauseTitle:"暂停(空格)",previousTitle:"上一张 (左箭头)",nextTitle:"下一张(右箭头)",moveTitle:"移动",fullExpandText:"1:1",number:"图片 %1 / %2",restoreTitle:""},graphicsDir:"highslide/graphics/",expandCursor:"zoomin.cur",restoreCursor:"zoomout.cur",expandDuration:250,restoreDuration:250,marginLeft:15,marginRight:15,marginTop:15,marginBottom:15,zIndexCounter:1001,loadingOpacity:.75,allowMultipleInstances:true,numberOfImagesToPreload:5,outlineWhileAnimating:2,outlineStartOffset:3,padToMinWidth:false,fullExpandPosition:"bottom right",fullExpandOpacity:1,showCredits:true,creditsHref:"http://highslide.com/",creditsTarget:"_self",enableKeyListener:true,openerTagNames:["a"],transitions:[],transitionDuration:250,dimmingOpacity:0,dimmingDuration:50,anchor:"auto",align:"auto",targetX:null,targetY:null,dragByHeading:true,minWidth:200,minHeight:200,allowSizeReduction:true,outlineType:"drop-shadow",skin:{controls:'<div class="highslide-controls"><ul>'+'<li class="highslide-previous">'+'<a href="#" title="{hs.lang.previousTitle}">'+"<span>{hs.lang.previousText}</span></a>"+"</li>"+'<li class="highslide-play">'+'<a href="#" title="{hs.lang.playTitle}">'+"<span>{hs.lang.playText}</span></a>"+"</li>"+'<li class="highslide-pause">'+'<a href="#" title="{hs.lang.pauseTitle}">'+"<span>{hs.lang.pauseText}</span></a>"+"</li>"+'<li class="highslide-next">'+'<a href="#" title="{hs.lang.nextTitle}">'+"<span>{hs.lang.nextText}</span></a>"+"</li>"+'<li class="highslide-move">'+'<a href="#" title="{hs.lang.moveTitle}">'+"<span>{hs.lang.moveText}</span></a>"+"</li>"+'<li class="highslide-full-expand">'+'<a href="#" title="{hs.lang.fullExpandTitle}">'+"<span>{hs.lang.fullExpandText}</span></a>"+"</li>"+'<li class="highslide-close">'+'<a href="#" title="{hs.lang.closeTitle}" >'+"<span>{hs.lang.closeText}</span></a>"+"</li>"+"</ul></div>"},preloadTheseImages:[],continuePreloading:true,expanders:[],overrides:["allowSizeReduction","useBox","anchor","align","targetX","targetY","outlineType","outlineWhileAnimating","captionId","captionText","captionEval","captionOverlay","headingId","headingText","headingEval","headingOverlay","creditsPosition","dragByHeading","autoplay","numberPosition","transitions","dimmingOpacity","width","height","wrapperClassName","minWidth","minHeight","maxWidth","maxHeight","slideshowGroup","easing","easingClose","fadeInOut","src"],overlays:[],idCounter:0,oPos:{x:["leftpanel","left","center","right","rightpanel"],y:["above","top","middle","bottom","below"]},mouse:{},headingOverlay:{},captionOverlay:{},timers:[],slideshows:[],pendingOutlines:{},clones:{},onReady:[],uaVersion:/Trident\/4\.0/.test(navigator.userAgent)?8:parseFloat((navigator.userAgent.toLowerCase().match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)||[0,"0"])[1]),ie:document.all&&!window.opera,safari:/Safari/.test(navigator.userAgent),geckoMac:/Macintosh.+rv:1\.[0-8].+Gecko/.test(navigator.userAgent),$:function(e){if(e)return document.getElementById(e)},push:function(e,t){e[e.length]=t},createElement:function(e,t,i,s,n){var h=document.createElement(e);if(t)hs.extend(h,t);if(n)hs.setStyles(h,{padding:0,border:"none",margin:0});if(i)hs.setStyles(h,i);if(s)s.appendChild(h);return h},extend:function(e,t){for(var i in t)e[i]=t[i];return e},setStyles:function(e,t){for(var i in t){if(hs.ie&&i=="opacity"){if(t[i]>.99)e.style.removeAttribute("filter");else e.style.filter="alpha(opacity="+t[i]*100+")"}else e.style[i]=t[i]}},animate:function(e,t,i){var s,n,h;if(typeof i!="object"||i===null){var a=arguments;i={duration:a[2],easing:a[3],complete:a[4]}}if(typeof i.duration!="number")i.duration=250;i.easing=Math[i.easing]||Math.easeInQuad;i.curAnim=hs.extend({},t);for(var o in t){var r=new hs.fx(e,i,o);s=parseFloat(hs.css(e,o))||0;n=parseFloat(t[o]);h=o!="opacity"?"px":"";r.custom(s,n,h)}},css:function(e,t){if(document.defaultView){return document.defaultView.getComputedStyle(e,null).getPropertyValue(t)}else{if(t=="opacity")t="filter";var i=e.currentStyle[t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})];if(t=="filter")i=i.replace(/alpha\(opacity=([0-9]+)\)/,function(e,t){return t/100});return i===""?1:i}},getPageSize:function(){var e=document,t=window,i=e.compatMode&&e.compatMode!="BackCompat"?e.documentElement:e.body;var s=hs.ie?i.clientWidth:e.documentElement.clientWidth||self.innerWidth,n=hs.ie?i.clientHeight:self.innerHeight;hs.page={width:s,height:n,scrollLeft:hs.ie?i.scrollLeft:pageXOffset,scrollTop:hs.ie?i.scrollTop:pageYOffset}},getPosition:function(e){var t={x:e.offsetLeft,y:e.offsetTop};while(e.offsetParent){e=e.offsetParent;t.x+=e.offsetLeft;t.y+=e.offsetTop;if(e!=document.body&&e!=document.documentElement){t.x-=e.scrollLeft;t.y-=e.scrollTop}}return t},expand:function(e,t,i,s){if(!e)e=hs.createElement("a",null,{display:"none"},hs.container);if(typeof e.getParams=="function")return t;try{new hs.Expander(e,t,i);return false}catch(n){return true}},getElementByClass:function(e,t,i){var s=e.getElementsByTagName(t);for(var n=0;n<s.length;n++){if(new RegExp(i).test(s[n].className)){return s[n]}}return null},replaceLang:function(e){e=e.replace(/\s/g," ");var t=/{hs\.lang\.([^}]+)\}/g,i=e.match(t),s;if(i)for(var n=0;n<i.length;n++){s=i[n].replace(t,"$1");if(typeof hs.lang[s]!="undefined")e=e.replace(i[n],hs.lang[s])}return e},focusTopmost:function(){var e=0,t=-1,i=hs.expanders,s,n;for(var h=0;h<i.length;h++){s=i[h];if(s){n=s.wrapper.style.zIndex;if(n&&n>e){e=n;t=h}}}if(t==-1)hs.focusKey=-1;else i[t].focus()},getParam:function(e,t){e.getParams=e.onclick;var i=e.getParams?e.getParams():null;e.getParams=null;return i&&typeof i[t]!="undefined"?i[t]:typeof hs[t]!="undefined"?hs[t]:null},getSrc:function(e){var t=hs.getParam(e,"src");if(t)return t;return e.href},getNode:function(e){var t=hs.$(e),i=hs.clones[e],s={};if(!t&&!i)return null;if(!i){i=t.cloneNode(true);i.id="";hs.clones[e]=i;return t}else{return i.cloneNode(true)}},discardElement:function(e){if(e)hs.garbageBin.appendChild(e);hs.garbageBin.innerHTML=""},dim:function(e){if(!hs.dimmer){hs.dimmer=hs.createElement("div",{className:"highslide-dimming highslide-viewport-size",owner:"",onclick:function(){hs.close()}},{visibility:"visible",opacity:0},hs.container,true)}hs.dimmer.style.display="";hs.dimmer.owner+="|"+e.key;if(hs.geckoMac&&hs.dimmingGeckoFix)hs.setStyles(hs.dimmer,{background:"url("+hs.graphicsDir+"geckodimmer.png)",opacity:1});else hs.animate(hs.dimmer,{opacity:e.dimmingOpacity},hs.dimmingDuration)},undim:function(e){if(!hs.dimmer)return;if(typeof e!="undefined")hs.dimmer.owner=hs.dimmer.owner.replace("|"+e,"");if(typeof e!="undefined"&&hs.dimmer.owner!=""||hs.upcoming&&hs.getParam(hs.upcoming,"dimmingOpacity"))return;if(hs.geckoMac&&hs.dimmingGeckoFix)hs.dimmer.style.display="none";else hs.animate(hs.dimmer,{opacity:0},hs.dimmingDuration,null,function(){hs.dimmer.style.display="none"})},transit:function(e,t){var i=t=t||hs.getExpander();if(hs.upcoming)return false;else hs.last=i;try{hs.upcoming=e;e.onclick()}catch(s){hs.last=hs.upcoming=null}try{if(!e||t.transitions[1]!="crossfade")t.close()}catch(s){}return false},previousOrNext:function(e,t){var i=hs.getExpander(e);if(i)return hs.transit(i.getAdjacentAnchor(t),i);else return false},previous:function(e){return hs.previousOrNext(e,-1)},next:function(e){return hs.previousOrNext(e,1)},keyHandler:function(e){if(!e)e=window.event;if(!e.target)e.target=e.srcElement;if(typeof e.target.form!="undefined")return true;var t=hs.getExpander();var i=null;switch(e.keyCode){case 70:if(t)t.doFullExpand();return true;case 32:i=2;break;case 34:case 39:case 40:i=1;break;case 8:case 33:case 37:case 38:i=-1;break;case 27:case 13:i=0}if(i!==null){if(i!=2)hs.removeEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler);if(!hs.enableKeyListener)return true;if(e.preventDefault)e.preventDefault();else e.returnValue=false;if(t){if(i==0){t.close()}else if(i==2){if(t.slideshow)t.slideshow.hitSpace()}else{if(t.slideshow)t.slideshow.pause();hs.previousOrNext(t.key,i)}return false}}return true},registerOverlay:function(e){hs.push(hs.overlays,hs.extend(e,{hsId:"hsId"+hs.idCounter++}))},addSlideshow:function(e){var t=e.slideshowGroup;if(typeof t=="object"){for(var i=0;i<t.length;i++){var s={};for(var n in e)s[n]=e[n];s.slideshowGroup=t[i];hs.push(hs.slideshows,s)}}else{hs.push(hs.slideshows,e)}},getWrapperKey:function(e,t){var i,s=/^highslide-wrapper-([0-9]+)$/;i=e;while(i.parentNode){if(i.hsKey!==undefined)return i.hsKey;if(i.id&&s.test(i.id))return i.id.replace(s,"$1");i=i.parentNode}if(!t){i=e;while(i.parentNode){if(i.tagName&&hs.isHsAnchor(i)){for(var n=0;n<hs.expanders.length;n++){var h=hs.expanders[n];if(h&&h.a==i)return n}}i=i.parentNode}}return null},getExpander:function(e,t){if(typeof e=="undefined")return hs.expanders[hs.focusKey]||null;if(typeof e=="number")return hs.expanders[e]||null;if(typeof e=="string")e=hs.$(e);return hs.expanders[hs.getWrapperKey(e,t)]||null},isHsAnchor:function(e){return e.onclick&&e.onclick.toString().replace(/\s/g," ").match(/hs.(htmlE|e)xpand/)},reOrder:function(){for(var e=0;e<hs.expanders.length;e++)if(hs.expanders[e]&&hs.expanders[e].isExpanded)hs.focusTopmost()},mouseClickHandler:function(e){if(!e)e=window.event;if(e.button>1)return true;if(!e.target)e.target=e.srcElement;var t=e.target;while(t.parentNode&&!/highslide-(image|move|html|resize)/.test(t.className)){t=t.parentNode}var i=hs.getExpander(t);if(i&&(i.isClosing||!i.isExpanded))return true;if(i&&e.type=="mousedown"){if(e.target.form)return true;var s=t.className.match(/highslide-(image|move|resize)/);if(s){hs.dragArgs={exp:i,type:s[1],left:i.x.pos,width:i.x.size,top:i.y.pos,height:i.y.size,clickX:e.clientX,clickY:e.clientY};hs.addEventListener(document,"mousemove",hs.dragHandler);if(e.preventDefault)e.preventDefault();if(/highslide-(image|html)-blur/.test(i.content.className)){i.focus();hs.hasFocused=true}return false}}else if(e.type=="mouseup"){hs.removeEventListener(document,"mousemove",hs.dragHandler);if(hs.dragArgs){if(hs.styleRestoreCursor&&hs.dragArgs.type=="image")hs.dragArgs.exp.content.style.cursor=hs.styleRestoreCursor;var n=hs.dragArgs.hasDragged;if(!n&&!hs.hasFocused&&!/(move|resize)/.test(hs.dragArgs.type)){i.close()}else if(n||!n&&hs.hasHtmlExpanders){hs.dragArgs.exp.doShowHide("hidden")}hs.hasFocused=false;hs.dragArgs=null}else if(/highslide-image-blur/.test(t.className)){t.style.cursor=hs.styleRestoreCursor}}return false},dragHandler:function(e){if(!hs.dragArgs)return true;if(!e)e=window.event;var t=hs.dragArgs,i=t.exp;t.dX=e.clientX-t.clickX;t.dY=e.clientY-t.clickY;var s=Math.sqrt(Math.pow(t.dX,2)+Math.pow(t.dY,2));if(!t.hasDragged)t.hasDragged=t.type!="image"&&s>0||s>(hs.dragSensitivity||5);if(t.hasDragged&&e.clientX>5&&e.clientY>5){if(t.type=="resize")i.resize(t);else{i.moveTo(t.left+t.dX,t.top+t.dY);if(t.type=="image")i.content.style.cursor="move"}}return false},wrapperMouseHandler:function(e){try{if(!e)e=window.event;var t=/mouseover/i.test(e.type);if(!e.target)e.target=e.srcElement;if(hs.ie)e.relatedTarget=t?e.fromElement:e.toElement;var i=hs.getExpander(e.target);if(!i.isExpanded)return;if(!i||!e.relatedTarget||hs.getExpander(e.relatedTarget,true)==i||hs.dragArgs)return;for(var s=0;s<i.overlays.length;s++)(function(){var e=hs.$("hsId"+i.overlays[s]);if(e&&e.hideOnMouseOut){if(t)hs.setStyles(e,{visibility:"visible",display:""});hs.animate(e,{opacity:t?e.opacity:0},e.dur)}})()}catch(e){}},addEventListener:function(e,t,i){if(e==document&&t=="ready")hs.push(hs.onReady,i);try{e.addEventListener(t,i,false)}catch(s){try{e.detachEvent("on"+t,i);e.attachEvent("on"+t,i)}catch(s){e["on"+t]=i}}},removeEventListener:function(e,t,i){try{e.removeEventListener(t,i,false)}catch(s){try{e.detachEvent("on"+t,i)}catch(s){e["on"+t]=null}}},preloadFullImage:function(e){if(hs.continuePreloading&&hs.preloadTheseImages[e]&&hs.preloadTheseImages[e]!="undefined"){var t=document.createElement("img");t.onload=function(){t=null;hs.preloadFullImage(e+1)};t.src=hs.preloadTheseImages[e]}},preloadImages:function(e){if(e&&typeof e!="object")hs.numberOfImagesToPreload=e;var t=hs.getAnchors();for(var i=0;i<t.images.length&&i<hs.numberOfImagesToPreload;i++){hs.push(hs.preloadTheseImages,hs.getSrc(t.images[i]))}if(hs.outlineType)new hs.Outline(hs.outlineType,function(){hs.preloadFullImage(0)});else hs.preloadFullImage(0);if(hs.restoreCursor)var s=hs.createElement("img",{src:hs.graphicsDir+hs.restoreCursor})},init:function(){if(!hs.container){hs.getPageSize();hs.ieLt7=hs.ie&&hs.uaVersion<7;for(var e in hs.langDefaults){if(typeof hs[e]!="undefined")hs.lang[e]=hs[e];else if(typeof hs.lang[e]=="undefined"&&typeof hs.langDefaults[e]!="undefined")hs.lang[e]=hs.langDefaults[e]}hs.container=hs.createElement("div",{className:"highslide-container"},{position:"absolute",left:0,top:0,width:"100%",zIndex:hs.zIndexCounter,direction:"ltr"},document.body,true);hs.loading=hs.createElement("a",{className:"highslide-loading",title:hs.lang.loadingTitle,innerHTML:hs.lang.loadingText,href:"javascript:;"},{position:"absolute",top:"-9999px",opacity:hs.loadingOpacity,zIndex:1},hs.container);hs.garbageBin=hs.createElement("div",null,{display:"none"},hs.container);hs.viewport=hs.createElement("div",{className:"highslide-viewport highslide-viewport-size"},{visibility:hs.safari&&hs.uaVersion<525?"visible":"hidden"},hs.container,1);Math.linearTween=function(e,t,i,s){return i*e/s+t};Math.easeInQuad=function(e,t,i,s){return i*(e/=s)*e+t};Math.easeOutQuad=function(e,t,i,s){return-i*(e/=s)*(e-2)+t};hs.hideSelects=hs.ieLt7;hs.hideIframes=window.opera&&hs.uaVersion<9||navigator.vendor=="KDE"||hs.ie&&hs.uaVersion<5.5}},ready:function(){if(hs.isReady)return;hs.isReady=true;for(var e=0;e<hs.onReady.length;e++)hs.onReady[e]()},updateAnchors:function(){var e,t,i=[],s=[],n={},h;for(var a=0;a<hs.openerTagNames.length;a++){t=document.getElementsByTagName(hs.openerTagNames[a]);for(var o=0;o<t.length;o++){e=t[o];h=hs.isHsAnchor(e);if(h){hs.push(i,e);if(h[0]=="hs.expand")hs.push(s,e);var r=hs.getParam(e,"slideshowGroup")||"none";if(!n[r])n[r]=[];hs.push(n[r],e)}}}hs.anchors={all:i,groups:n,images:s};return hs.anchors},getAnchors:function(){return hs.anchors||hs.updateAnchors()},close:function(e){var t=hs.getExpander(e);if(t)t.close();return false}};hs.fx=function(e,t,i){this.options=t;this.elem=e;this.prop=i;if(!t.orig)t.orig={}};hs.fx.prototype={update:function(){(hs.fx.step[this.prop]||hs.fx.step._default)(this);if(this.options.step)this.options.step.call(this.elem,this.now,this)},custom:function(e,t,i){this.startTime=(new Date).getTime();this.start=e;this.end=t;this.unit=i;this.now=this.start;this.pos=this.state=0;var s=this;function n(e){return s.step(e)}n.elem=this.elem;if(n()&&hs.timers.push(n)==1){hs.timerId=setInterval(function(){var e=hs.timers;for(var t=0;t<e.length;t++)if(!e[t]())e.splice(t--,1);if(!e.length){clearInterval(hs.timerId)}},13)}},step:function(e){var t=(new Date).getTime();if(e||t>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;var i=true;for(var s in this.options.curAnim)if(this.options.curAnim[s]!==true)i=false;if(i){if(this.options.complete)this.options.complete.call(this.elem)}return false}else{var n=t-this.startTime;this.state=n/this.options.duration;this.pos=this.options.easing(n,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update()}return true}};hs.extend(hs.fx,{step:{opacity:function(e){hs.setStyles(e.elem,{opacity:e.now})},_default:function(e){try{if(e.elem.style&&e.elem.style[e.prop]!=null)e.elem.style[e.prop]=e.now+e.unit;else e.elem[e.prop]=e.now}catch(t){}}}});hs.Outline=function(e,t){this.onLoad=t;this.outlineType=e;var i=hs.uaVersion,s;this.hasAlphaImageLoader=hs.ie&&i>=5.5&&i<7;if(!e){if(t)t();return}hs.init();this.table=hs.createElement("table",{cellSpacing:0},{visibility:"hidden",position:"absolute",borderCollapse:"collapse",width:0},hs.container,true);var n=hs.createElement("tbody",null,null,this.table,1);this.td=[];for(var h=0;h<=8;h++){if(h%3==0)s=hs.createElement("tr",null,{height:"auto"},n,true);this.td[h]=hs.createElement("td",null,null,s,true);var a=h!=4?{lineHeight:0,fontSize:0}:{position:"relative"};hs.setStyles(this.td[h],a)}this.td[4].className=e+" highslide-outline";this.preloadGraphic()};hs.Outline.prototype={preloadGraphic:function(){var e=hs.graphicsDir+(hs.outlinesDir||"outlines/")+this.outlineType+".png";var t=hs.safari?hs.container:null;this.graphic=hs.createElement("img",null,{position:"absolute",top:"-9999px"},t,true);var i=this;this.graphic.onload=function(){i.onGraphicLoad()};this.graphic.src=e},onGraphicLoad:function(){var e=this.offset=this.graphic.width/4,t=[[0,0],[0,-4],[-2,0],[0,-8],0,[-2,-8],[0,-2],[0,-6],[-2,-2]],i={height:2*e+"px",width:2*e+"px"};for(var s=0;s<=8;s++){if(t[s]){if(this.hasAlphaImageLoader){var n=s==1||s==7?"100%":this.graphic.width+"px";var h=hs.createElement("div",null,{width:"100%",height:"100%",position:"relative",overflow:"hidden"},this.td[s],true);hs.createElement("div",null,{filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale, src='"+this.graphic.src+"')",position:"absolute",width:n,height:this.graphic.height+"px",left:t[s][0]*e+"px",top:t[s][1]*e+"px"},h,true)}else{hs.setStyles(this.td[s],{background:"url("+this.graphic.src+") "+t[s][0]*e+"px "+t[s][1]*e+"px"})}if(window.opera&&(s==3||s==5))hs.createElement("div",null,i,this.td[s],true);hs.setStyles(this.td[s],i)}}this.graphic=null;if(hs.pendingOutlines[this.outlineType])hs.pendingOutlines[this.outlineType].destroy();hs.pendingOutlines[this.outlineType]=this;if(this.onLoad)this.onLoad()},setPosition:function(e,t,i,s,n){var h=this.exp,a=h.wrapper.style,t=t||0,e=e||{x:h.x.pos+t,y:h.y.pos+t,w:h.x.get("wsize")-2*t,h:h.y.get("wsize")-2*t};if(i)this.table.style.visibility=e.h>=4*this.offset?"visible":"hidden";hs.setStyles(this.table,{left:e.x-this.offset+"px",top:e.y-this.offset+"px",width:e.w+2*this.offset+"px"});e.w-=2*this.offset;e.h-=2*this.offset;hs.setStyles(this.td[4],{width:e.w>=0?e.w+"px":0,height:e.h>=0?e.h+"px":0});if(this.hasAlphaImageLoader)this.td[3].style.height=this.td[5].style.height=this.td[4].style.height},destroy:function(e){if(e)this.table.style.visibility="hidden";else hs.discardElement(this.table)}};hs.Dimension=function(e,t){this.exp=e;this.dim=t;this.ucwh=t=="x"?"Width":"Height";this.wh=this.ucwh.toLowerCase();this.uclt=t=="x"?"Left":"Top";this.lt=this.uclt.toLowerCase();this.ucrb=t=="x"?"Right":"Bottom";this.rb=this.ucrb.toLowerCase();this.p1=this.p2=0};hs.Dimension.prototype={get:function(e){switch(e){case"loadingPos":return this.tpos+this.tb+(this.t-hs.loading["offset"+this.ucwh])/2;case"loadingPosXfade":return this.pos+this.cb+this.p1+(this.size-hs.loading["offset"+this.ucwh])/2;case"wsize":return this.size+2*this.cb+this.p1+this.p2;case"fitsize":return this.clientSize-this.marginMin-this.marginMax;case"maxsize":return this.get("fitsize")-2*this.cb-this.p1-this.p2;case"opos":return this.pos-(this.exp.outline?this.exp.outline.offset:0);case"osize":return this.get("wsize")+(this.exp.outline?2*this.exp.outline.offset:0);case"imgPad":return this.imgSize?Math.round((this.size-this.imgSize)/2):0}},calcBorders:function(){this.cb=(this.exp.content["offset"+this.ucwh]-this.t)/2;this.marginMax=hs["margin"+this.ucrb]},calcThumb:function(){this.t=this.exp.el[this.wh]?parseInt(this.exp.el[this.wh]):this.exp.el["offset"+this.ucwh];this.tpos=this.exp.tpos[this.dim];this.tb=(this.exp.el["offset"+this.ucwh]-this.t)/2;if(this.tpos==0||this.tpos==-1){this.tpos=hs.page[this.wh]/2+hs.page["scroll"+this.uclt]}},calcExpanded:function(){var e=this.exp;this.justify="auto";if(e.align=="center")this.justify="center";else if(new RegExp(this.lt).test(e.anchor))this.justify=null;else if(new RegExp(this.rb).test(e.anchor))this.justify="max";this.pos=this.tpos-this.cb+this.tb;if(this.maxHeight&&this.dim=="x")e.maxWidth=Math.min(e.maxWidth||this.full,e.maxHeight*this.full/e.y.full);this.size=Math.min(this.full,e["max"+this.ucwh]||this.full);this.minSize=e.allowSizeReduction?Math.min(e["min"+this.ucwh],this.full):this.full;if(e.isImage&&e.useBox){this.size=e[this.wh];this.imgSize=this.full}if(this.dim=="x"&&hs.padToMinWidth)this.minSize=e.minWidth;this.target=e["target"+this.dim.toUpperCase()];this.marginMin=hs["margin"+this.uclt];this.scroll=hs.page["scroll"+this.uclt];this.clientSize=hs.page[this.wh]},setSize:function(e){var t=this.exp;if(t.isImage&&(t.useBox||hs.padToMinWidth)){this.imgSize=e;this.size=Math.max(this.size,this.imgSize);t.content.style[this.lt]=this.get("imgPad")+"px"}else this.size=e;t.content.style[this.wh]=e+"px";t.wrapper.style[this.wh]=this.get("wsize")+"px";if(t.outline)t.outline.setPosition();if(this.dim=="x"&&t.overlayBox)t.sizeOverlayBox(true);if(this.dim=="x"&&t.slideshow&&t.isImage){if(e==this.full)t.slideshow.disable("full-expand");else t.slideshow.enable("full-expand")}},setPos:function(e){this.pos=e;this.exp.wrapper.style[this.lt]=e+"px";if(this.exp.outline)this.exp.outline.setPosition()}};hs.Expander=function(e,t,i,s){if(document.readyState&&hs.ie&&!hs.isReady){hs.addEventListener(document,"ready",function(){new hs.Expander(e,t,i,s)});return}this.a=e;this.custom=i;this.contentType=s||"image";this.isImage=!this.isHtml;hs.continuePreloading=false;this.overlays=[];this.last=hs.last;hs.last=null;hs.init();var n=this.key=hs.expanders.length;for(var h=0;h<hs.overrides.length;h++){var a=hs.overrides[h];this[a]=t&&typeof t[a]!="undefined"?t[a]:hs[a]}if(!this.src)this.src=e.href;var o=t&&t.thumbnailId?hs.$(t.thumbnailId):e;o=this.thumb=o.getElementsByTagName("img")[0]||o;this.thumbsUserSetId=o.id||e.id;for(var h=0;h<hs.expanders.length;h++){if(hs.expanders[h]&&hs.expanders[h].a==e&&!(this.last&&this.transitions[1]=="crossfade")){hs.expanders[h].focus();return false}}if(!hs.allowSimultaneousLoading)for(var h=0;h<hs.expanders.length;h++){if(hs.expanders[h]&&hs.expanders[h].thumb!=o&&!hs.expanders[h].onLoadStarted){hs.expanders[h].cancelLoading()}}hs.expanders[n]=this;if(!hs.allowMultipleInstances&&!hs.upcoming){if(hs.expanders[n-1])hs.expanders[n-1].close();if(typeof hs.focusKey!="undefined"&&hs.expanders[hs.focusKey])hs.expanders[hs.focusKey].close()}this.el=o;this.tpos=hs.getPosition(o);hs.getPageSize();var r=this.x=new hs.Dimension(this,"x");r.calcThumb();var l=this.y=new hs.Dimension(this,"y");l.calcThumb();this.wrapper=hs.createElement("div",{id:"highslide-wrapper-"+this.key,className:"highslide-wrapper "+this.wrapperClassName},{visibility:"hidden",position:"absolute",zIndex:hs.zIndexCounter+=2},null,true);this.wrapper.onmouseover=this.wrapper.onmouseout=hs.wrapperMouseHandler;if(this.contentType=="image"&&this.outlineWhileAnimating==2)this.outlineWhileAnimating=0;if(!this.outlineType||this.last&&this.isImage&&this.transitions[1]=="crossfade"){this[this.contentType+"Create"]()}else if(hs.pendingOutlines[this.outlineType]){this.connectOutline();this[this.contentType+"Create"]()}else{this.showLoading();var d=this;new hs.Outline(this.outlineType,function(){d.connectOutline();d[d.contentType+"Create"]()})}return true};hs.Expander.prototype={error:function(e){window.location.href=this.src},connectOutline:function(){var e=this.outline=hs.pendingOutlines[this.outlineType];e.exp=this;e.table.style.zIndex=this.wrapper.style.zIndex-1;hs.pendingOutlines[this.outlineType]=null},showLoading:function(){if(this.onLoadStarted||this.loading)return;this.loading=hs.loading;var e=this;this.loading.onclick=function(){e.cancelLoading()};var e=this,t=this.x.get("loadingPos")+"px",i=this.y.get("loadingPos")+"px";if(!s&&this.last&&this.transitions[1]=="crossfade")var s=this.last;if(s){t=s.x.get("loadingPosXfade")+"px";i=s.y.get("loadingPosXfade")+"px";this.loading.style.zIndex=hs.zIndexCounter++}setTimeout(function(){if(e.loading)hs.setStyles(e.loading,{left:t,top:i,zIndex:hs.zIndexCounter++})},100)},imageCreate:function(){var e=this;var t=document.createElement("img");this.content=t;t.onload=function(){if(hs.expanders[e.key])e.contentLoaded()};if(hs.blockRightClick)t.oncontextmenu=function(){return false};t.className="highslide-image";hs.setStyles(t,{visibility:"hidden",display:"block",position:"absolute",maxWidth:"9999px",zIndex:3});t.title=hs.lang.restoreTitle;if(hs.safari)hs.container.appendChild(t);if(hs.ie&&hs.flushImgSize)t.src=null;t.src=this.src;this.showLoading()},contentLoaded:function(){try{if(!this.content)return;this.content.onload=null;if(this.onLoadStarted)return;else this.onLoadStarted=true;var e=this.x,t=this.y;if(this.loading){hs.setStyles(this.loading,{top:"-9999px"});this.loading=null}e.full=this.content.width;t.full=this.content.height;hs.setStyles(this.content,{width:e.t+"px",height:t.t+"px"});this.wrapper.appendChild(this.content);hs.container.appendChild(this.wrapper);e.calcBorders();t.calcBorders();hs.setStyles(this.wrapper,{left:e.tpos+e.tb-e.cb+"px",top:t.tpos+e.tb-t.cb+"px"});this.initSlideshow();this.getOverlays();var i=e.full/t.full;e.calcExpanded();this.justify(e);t.calcExpanded();this.justify(t);if(this.overlayBox)this.sizeOverlayBox(0,1);if(this.allowSizeReduction){this.correctRatio(i);var s=this.slideshow;if(s&&this.last&&s.controls&&s.fixedControls){var n=s.overlayOptions.position||"",h;for(var a in hs.oPos)for(var o=0;o<5;o++){h=this[a];if(n.match(hs.oPos[a][o])){h.pos=this.last[a].pos+(this.last[a].p1-h.p1)+(this.last[a].size-h.size)*[0,0,.5,1,1][o];if(s.fixedControls=="fit"){if(h.pos+h.size+h.p1+h.p2>h.scroll+h.clientSize-h.marginMax)h.pos=h.scroll+h.clientSize-h.size-h.marginMin-h.marginMax-h.p1-h.p2;if(h.pos<h.scroll+h.marginMin)h.pos=h.scroll+h.marginMin}}}}if(this.isImage&&this.x.full>(this.x.imgSize||this.x.size)){this.createFullExpand();if(this.overlays.length==1)this.sizeOverlayBox()}}this.show()}catch(r){this.error(r)}},justify:function(e,t){var i,s=e.target,n=e==this.x?"x":"y";if(s&&s.match(/ /)){i=s.split(" ");s=i[0]}if(s&&hs.$(s)){e.pos=hs.getPosition(hs.$(s))[n];if(i&&i[1]&&i[1].match(/^[-]?[0-9]+px$/))e.pos+=parseInt(i[1]);if(e.size<e.minSize)e.size=e.minSize}else if(e.justify=="auto"||e.justify=="center"){var h=false;var a=e.exp.allowSizeReduction;if(e.justify=="center")e.pos=Math.round(e.scroll+(e.clientSize+e.marginMin-e.marginMax-e.get("wsize"))/2);else e.pos=Math.round(e.pos-(e.get("wsize")-e.t)/2);if(e.pos<e.scroll+e.marginMin){e.pos=e.scroll+e.marginMin;h=true}if(!t&&e.size<e.minSize){e.size=e.minSize;a=false}if(e.pos+e.get("wsize")>e.scroll+e.clientSize-e.marginMax){if(!t&&h&&a){e.size=Math.min(e.size,e.get(n=="y"?"fitsize":"maxsize"))}else if(e.get("wsize")<e.get("fitsize")){e.pos=e.scroll+e.clientSize-e.marginMax-e.get("wsize")}else{e.pos=e.scroll+e.marginMin;if(!t&&a)e.size=e.get(n=="y"?"fitsize":"maxsize")}}if(!t&&e.size<e.minSize){e.size=e.minSize;a=false}}else if(e.justify=="max"){e.pos=Math.floor(e.pos-e.size+e.t)}if(e.pos<e.marginMin){var o=e.pos;e.pos=e.marginMin;if(a&&!t)e.size=e.size-(e.pos-o)}},correctRatio:function(e){var t=this.x,i=this.y,s=false,n=Math.min(t.full,t.size),h=Math.min(i.full,i.size),a=this.useBox||hs.padToMinWidth;if(n/h>e){n=h*e;if(n<t.minSize){n=t.minSize;h=n/e}s=true}else if(n/h<e){h=n/e;s=true}if(hs.padToMinWidth&&t.full<t.minSize){t.imgSize=t.full;i.size=i.imgSize=i.full}else if(this.useBox){t.imgSize=n;i.imgSize=h}else{t.size=n;i.size=h}s=this.fitOverlayBox(a?null:e,s);if(a&&i.size<i.imgSize){i.imgSize=i.size;t.imgSize=i.size*e}if(s||a){t.pos=t.tpos-t.cb+t.tb;t.minSize=t.size;this.justify(t,true);i.pos=i.tpos-i.cb+i.tb;i.minSize=i.size;this.justify(i,true);if(this.overlayBox)this.sizeOverlayBox()}},fitOverlayBox:function(e,t){var i=this.x,s=this.y;if(this.overlayBox){while(s.size>this.minHeight&&i.size>this.minWidth&&s.get("wsize")>s.get("fitsize")){s.size-=10;if(e)i.size=s.size*e;this.sizeOverlayBox(0,1);t=true}}return t},show:function(){var e=this.x,t=this.y;this.doShowHide("hidden");if(this.slideshow&&this.slideshow.thumbstrip)this.slideshow.thumbstrip.selectThumb();this.changeSize(1,{wrapper:{width:e.get("wsize"),height:t.get("wsize"),left:e.pos,top:t.pos},content:{left:e.p1+e.get("imgPad"),top:t.p1+t.get("imgPad"),width:e.imgSize||e.size,height:t.imgSize||t.size}},hs.expandDuration)},changeSize:function(e,t,i){var s=this.transitions,n=e?this.last?this.last.a:null:hs.upcoming,h=s[1]&&n&&hs.getParam(n,"transitions")[1]==s[1]?s[1]:s[0];if(this[h]&&h!="expand"){this[h](e,t);return}if(this.outline&&!this.outlineWhileAnimating){if(e)this.outline.setPosition();else this.outline.destroy()}if(!e)this.destroyOverlays();var a=this,o=a.x,r=a.y,l=this.easing;if(!e)l=this.easingClose||l;var d=e?function(){if(a.outline)a.outline.table.style.visibility="visible";setTimeout(function(){a.afterExpand()},50)}:function(){a.afterClose()};if(e)hs.setStyles(this.wrapper,{width:o.t+"px",height:r.t+"px"});if(this.fadeInOut){hs.setStyles(this.wrapper,{opacity:e?0:1});hs.extend(t.wrapper,{opacity:e})}hs.animate(this.wrapper,t.wrapper,{duration:i,easing:l,step:function(t,i){if(a.outline&&a.outlineWhileAnimating&&i.prop=="top"){var s=e?i.pos:1-i.pos;var n={w:o.t+(o.get("wsize")-o.t)*s,h:r.t+(r.get("wsize")-r.t)*s,x:o.tpos+(o.pos-o.tpos)*s,y:r.tpos+(r.pos-r.tpos)*s};a.outline.setPosition(n,0,1)}}});hs.animate(this.content,t.content,i,l,d);if(e){this.wrapper.style.visibility="visible";this.content.style.visibility="visible";this.a.className+=" highslide-active-anchor"}},fade:function(e,t){this.outlineWhileAnimating=false;var i=this,s=e?hs.expandDuration:0;if(e){hs.animate(this.wrapper,t.wrapper,0);hs.setStyles(this.wrapper,{opacity:0,visibility:"visible"});hs.animate(this.content,t.content,0);this.content.style.visibility="visible";hs.animate(this.wrapper,{opacity:1},s,null,function(){i.afterExpand()})}if(this.outline){this.outline.table.style.zIndex=this.wrapper.style.zIndex;var n=e||-1,h=this.outline.offset,a=e?3:h,o=e?h:3;for(var r=a;n*r<=n*o;r+=n,s+=25){(function(){var t=e?o-r:a-r;setTimeout(function(){i.outline.setPosition(0,t,1)},s)})()}}if(e){}else{setTimeout(function(){if(i.outline)i.outline.destroy(i.preserveContent);i.destroyOverlays();hs.animate(i.wrapper,{opacity:0},hs.restoreDuration,null,function(){i.afterClose()})},s)}},crossfade:function(e,t,i){if(!e)return;var s=this,n=this.last,h=this.x,a=this.y,o=n.x,r=n.y,l=this.wrapper,d=this.content,p=this.overlayBox;hs.removeEventListener(document,"mousemove",hs.dragHandler);hs.setStyles(d,{width:(h.imgSize||h.size)+"px",height:(a.imgSize||a.size)+"px"});if(p)p.style.overflow="visible";this.outline=n.outline;if(this.outline)this.outline.exp=s;n.outline=null;var u=hs.createElement("div",{className:"highslide-image"},{position:"absolute",zIndex:4,overflow:"hidden",display:"none"});var f={oldImg:n,newImg:this};for(var c in f){this[c]=f[c].content.cloneNode(1);hs.setStyles(this[c],{position:"absolute",border:0,visibility:"visible"});u.appendChild(this[c])}l.appendChild(u);if(p){p.className="";l.appendChild(p)}u.style.display="";n.content.style.display="none";if(hs.safari){var g=navigator.userAgent.match(/Safari\/([0-9]{3})/);if(g&&parseInt(g[1])<525)this.wrapper.style.visibility="visible"}hs.animate(l,{width:h.size},{duration:hs.transitionDuration,step:function(e,t){var i=t.pos,f=1-i;var c,g={},m=["pos","size","p1","p2"];for(var y in m){c=m[y];g["x"+c]=Math.round(f*o[c]+i*h[c]);g["y"+c]=Math.round(f*r[c]+i*a[c]);g.ximgSize=Math.round(f*(o.imgSize||o.size)+i*(h.imgSize||h.size));g.ximgPad=Math.round(f*o.get("imgPad")+i*h.get("imgPad"));g.yimgSize=Math.round(f*(r.imgSize||r.size)+i*(a.imgSize||a.size));g.yimgPad=Math.round(f*r.get("imgPad")+i*a.get("imgPad"))}if(s.outline)s.outline.setPosition({x:g.xpos,y:g.ypos,w:g.xsize+g.xp1+g.xp2+2*h.cb,h:g.ysize+g.yp1+g.yp2+2*a.cb});n.wrapper.style.clip="rect("+(g.ypos-r.pos)+"px, "+(g.xsize+g.xp1+g.xp2+g.xpos+2*o.cb-o.pos)+"px, "+(g.ysize+g.yp1+g.yp2+g.ypos+2*r.cb-r.pos)+"px, "+(g.xpos-o.pos)+"px)";
hs.setStyles(d,{top:g.yp1+a.get("imgPad")+"px",left:g.xp1+h.get("imgPad")+"px",marginTop:a.pos-g.ypos+"px",marginLeft:h.pos-g.xpos+"px"});hs.setStyles(l,{top:g.ypos+"px",left:g.xpos+"px",width:g.xp1+g.xp2+g.xsize+2*h.cb+"px",height:g.yp1+g.yp2+g.ysize+2*a.cb+"px"});hs.setStyles(u,{width:(g.ximgSize||g.xsize)+"px",height:(g.yimgSize||g.ysize)+"px",left:g.xp1+g.ximgPad+"px",top:g.yp1+g.yimgPad+"px",visibility:"visible"});hs.setStyles(s.oldImg,{top:r.pos-g.ypos+r.p1-g.yp1+r.get("imgPad")-g.yimgPad+"px",left:o.pos-g.xpos+o.p1-g.xp1+o.get("imgPad")-g.ximgPad+"px"});hs.setStyles(s.newImg,{opacity:i,top:a.pos-g.ypos+a.p1-g.yp1+a.get("imgPad")-g.yimgPad+"px",left:h.pos-g.xpos+h.p1-g.xp1+h.get("imgPad")-g.ximgPad+"px"});if(p)hs.setStyles(p,{width:g.xsize+"px",height:g.ysize+"px",left:g.xp1+h.cb+"px",top:g.yp1+a.cb+"px"})},complete:function(){l.style.visibility=d.style.visibility="visible";d.style.display="block";u.style.display="none";s.a.className+=" highslide-active-anchor";s.afterExpand();n.afterClose();s.last=null}})},reuseOverlay:function(e,t){if(!this.last)return false;for(var i=0;i<this.last.overlays.length;i++){var s=hs.$("hsId"+this.last.overlays[i]);if(s&&s.hsId==e.hsId){this.genOverlayBox();s.reuse=this.key;hs.push(this.overlays,this.last.overlays[i]);return true}}return false},afterExpand:function(){this.isExpanded=true;this.focus();if(this.dimmingOpacity)hs.dim(this);if(hs.upcoming&&hs.upcoming==this.a)hs.upcoming=null;this.prepareNextOutline();var e=hs.page,t=hs.mouse.x+e.scrollLeft,i=hs.mouse.y+e.scrollTop;this.mouseIsOver=this.x.pos<t&&t<this.x.pos+this.x.get("wsize")&&this.y.pos<i&&i<this.y.pos+this.y.get("wsize");if(this.overlayBox)this.showOverlays()},prepareNextOutline:function(){var e=this.key;var t=this.outlineType;new hs.Outline(t,function(){try{hs.expanders[e].preloadNext()}catch(t){}})},preloadNext:function(){var e=this.getAdjacentAnchor(1);if(e&&e.onclick.toString().match(/hs\.expand/))var t=hs.createElement("img",{src:hs.getSrc(e)})},getAdjacentAnchor:function(e){var t=this.getAnchorIndex(),i=hs.anchors.groups[this.slideshowGroup||"none"];if(!i[t+e]&&this.slideshow&&this.slideshow.repeat){if(e==1)return i[0];else if(e==-1)return i[i.length-1]}return i[t+e]||null},getAnchorIndex:function(){var e=hs.getAnchors().groups[this.slideshowGroup||"none"];if(e)for(var t=0;t<e.length;t++){if(e[t]==this.a)return t}return null},getNumber:function(){if(this[this.numberPosition]){var e=hs.anchors.groups[this.slideshowGroup||"none"];if(e){var t=hs.lang.number.replace("%1",this.getAnchorIndex()+1).replace("%2",e.length);this[this.numberPosition].innerHTML='<div class="highslide-number">'+t+"</div>"+this[this.numberPosition].innerHTML}}},initSlideshow:function(){if(!this.last){for(var e=0;e<hs.slideshows.length;e++){var t=hs.slideshows[e],i=t.slideshowGroup;if(typeof i=="undefined"||i===null||i===this.slideshowGroup)this.slideshow=new hs.Slideshow(this.key,t)}}else{this.slideshow=this.last.slideshow}var t=this.slideshow;if(!t)return;var s=t.expKey=this.key;t.checkFirstAndLast();t.disable("full-expand");if(t.controls){var n=t.overlayOptions||{};n.overlayId=t.controls;n.hsId="controls";this.createOverlay(n)}if(t.thumbstrip)t.thumbstrip.add(this);if(!this.last&&this.autoplay)t.play(true);if(t.autoplay){t.autoplay=setTimeout(function(){hs.next(s)},t.interval||500)}},cancelLoading:function(){hs.discardElement(this.wrapper);hs.expanders[this.key]=null;if(hs.upcoming==this.a)hs.upcoming=null;hs.undim(this.key);if(this.loading)hs.loading.style.left="-9999px"},writeCredits:function(){if(this.credits)return;this.credits=hs.createElement("a",{href:hs.creditsHref,target:hs.creditsTarget,className:"highslide-credits",innerHTML:hs.lang.creditsText,title:hs.lang.creditsTitle});this.createOverlay({overlayId:this.credits,position:this.creditsPosition||"top left",hsId:"credits"})},getInline:function(types,addOverlay){for(var i=0;i<types.length;i++){var type=types[i],s=null;if(!this[type+"Id"]&&this.thumbsUserSetId)this[type+"Id"]=type+"-for-"+this.thumbsUserSetId;if(this[type+"Id"])this[type]=hs.getNode(this[type+"Id"]);if(!this[type]&&!this[type+"Text"]&&this[type+"Eval"])try{s=eval(this[type+"Eval"])}catch(e){}if(!this[type]&&this[type+"Text"]){s=this[type+"Text"]}if(!this[type]&&!s){this[type]=hs.getNode(this.a["_"+type+"Id"]);if(!this[type]){var next=this.a.nextSibling;while(next&&!hs.isHsAnchor(next)){if(new RegExp("highslide-"+type).test(next.className||null)){if(!next.id)this.a["_"+type+"Id"]=next.id="hsId"+hs.idCounter++;this[type]=hs.getNode(next.id);break}next=next.nextSibling}}}if(!this[type]&&!s&&this.numberPosition==type)s="\n";if(!this[type]&&s)this[type]=hs.createElement("div",{className:"highslide-"+type,innerHTML:s});if(addOverlay&&this[type]){var o={position:type=="heading"?"above":"below"};for(var x in this[type+"Overlay"])o[x]=this[type+"Overlay"][x];o.overlayId=this[type];this.createOverlay(o)}}},doShowHide:function(e){if(hs.hideSelects)this.showHideElements("SELECT",e);if(hs.hideIframes)this.showHideElements("IFRAME",e);if(hs.geckoMac)this.showHideElements("*",e)},showHideElements:function(e,t){var i=document.getElementsByTagName(e);var s=e=="*"?"overflow":"visibility";for(var n=0;n<i.length;n++){if(s=="visibility"||(document.defaultView.getComputedStyle(i[n],"").getPropertyValue("overflow")=="auto"||i[n].getAttribute("hidden-by")!=null)){var h=i[n].getAttribute("hidden-by");if(t=="visible"&&h){h=h.replace("["+this.key+"]","");i[n].setAttribute("hidden-by",h);if(!h)i[n].style[s]=i[n].origProp}else if(t=="hidden"){var a=hs.getPosition(i[n]);a.w=i[n].offsetWidth;a.h=i[n].offsetHeight;if(!this.dimmingOpacity){var o=a.x+a.w<this.x.get("opos")||a.x>this.x.get("opos")+this.x.get("osize");var r=a.y+a.h<this.y.get("opos")||a.y>this.y.get("opos")+this.y.get("osize")}var l=hs.getWrapperKey(i[n]);if(!o&&!r&&l!=this.key){if(!h){i[n].setAttribute("hidden-by","["+this.key+"]");i[n].origProp=i[n].style[s];i[n].style[s]="hidden"}else if(h.indexOf("["+this.key+"]")==-1){i[n].setAttribute("hidden-by",h+"["+this.key+"]")}}else if((h=="["+this.key+"]"||hs.focusKey==l)&&l!=this.key){i[n].setAttribute("hidden-by","");i[n].style[s]=i[n].origProp||""}else if(h&&h.indexOf("["+this.key+"]")>-1){i[n].setAttribute("hidden-by",h.replace("["+this.key+"]",""))}}}}},focus:function(){this.wrapper.style.zIndex=hs.zIndexCounter+=2;for(var e=0;e<hs.expanders.length;e++){if(hs.expanders[e]&&e==hs.focusKey){var t=hs.expanders[e];t.content.className+=" highslide-"+t.contentType+"-blur";t.content.style.cursor=hs.ie?"hand":"pointer";t.content.title=hs.lang.focusTitle}}if(this.outline)this.outline.table.style.zIndex=this.wrapper.style.zIndex-1;this.content.className="highslide-"+this.contentType;this.content.title=hs.lang.restoreTitle;if(hs.restoreCursor){hs.styleRestoreCursor=window.opera?"pointer":"url("+hs.graphicsDir+hs.restoreCursor+"), pointer";if(hs.ie&&hs.uaVersion<6)hs.styleRestoreCursor="hand";this.content.style.cursor=hs.styleRestoreCursor}hs.focusKey=this.key;hs.addEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler)},moveTo:function(e,t){this.x.setPos(e);this.y.setPos(t)},resize:function(e){var t,i,s=e.width/e.height;t=Math.max(e.width+e.dX,Math.min(this.minWidth,this.x.full));if(this.isImage&&Math.abs(t-this.x.full)<12)t=this.x.full;i=t/s;if(i<Math.min(this.minHeight,this.y.full)){i=Math.min(this.minHeight,this.y.full);if(this.isImage)t=i*s}this.resizeTo(t,i)},resizeTo:function(e,t){this.y.setSize(t);this.x.setSize(e);this.wrapper.style.height=this.y.get("wsize")+"px"},close:function(){if(this.isClosing||!this.isExpanded)return;if(this.transitions[1]=="crossfade"&&hs.upcoming){hs.getExpander(hs.upcoming).cancelLoading();hs.upcoming=null}this.isClosing=true;if(this.slideshow&&!hs.upcoming)this.slideshow.pause();hs.removeEventListener(document,window.opera?"keypress":"keydown",hs.keyHandler);try{this.content.style.cursor="default";this.changeSize(0,{wrapper:{width:this.x.t,height:this.y.t,left:this.x.tpos-this.x.cb+this.x.tb,top:this.y.tpos-this.y.cb+this.y.tb},content:{left:0,top:0,width:this.x.t,height:this.y.t}},hs.restoreDuration)}catch(e){this.afterClose()}},createOverlay:function(e){var t=e.overlayId,i=e.relativeTo=="viewport"&&!/panel$/.test(e.position);if(typeof t=="string")t=hs.getNode(t);if(e.html)t=hs.createElement("div",{innerHTML:e.html});if(!t||typeof t=="string")return;t.style.display="block";e.hsId=e.hsId||e.overlayId;if(this.transitions[1]=="crossfade"&&this.reuseOverlay(e,t))return;this.genOverlayBox();var s=e.width&&/^[0-9]+(px|%)$/.test(e.width)?e.width:"auto";if(/^(left|right)panel$/.test(e.position)&&!/^[0-9]+px$/.test(e.width))s="200px";var n=hs.createElement("div",{id:"hsId"+hs.idCounter++,hsId:e.hsId},{position:"absolute",visibility:"hidden",width:s,direction:hs.lang.cssDirection||"",opacity:0},i?hs.viewport:this.overlayBox,true);if(i)n.hsKey=this.key;n.appendChild(t);hs.extend(n,{opacity:1,offsetX:0,offsetY:0,dur:e.fade===0||e.fade===false||e.fade==2&&hs.ie?0:250});hs.extend(n,e);if(this.gotOverlays){this.positionOverlay(n);if(!n.hideOnMouseOut||this.mouseIsOver)hs.animate(n,{opacity:n.opacity},n.dur)}hs.push(this.overlays,hs.idCounter-1)},positionOverlay:function(e){var t=e.position||"middle center",i=e.relativeTo=="viewport",s=e.offsetX,n=e.offsetY;if(i){hs.viewport.style.display="block";e.hsKey=this.key;if(e.offsetWidth>e.parentNode.offsetWidth)e.style.width="100%"}else if(e.parentNode!=this.overlayBox)this.overlayBox.appendChild(e);if(/left$/.test(t))e.style.left=s+"px";if(/center$/.test(t))hs.setStyles(e,{left:"50%",marginLeft:s-Math.round(e.offsetWidth/2)+"px"});if(/right$/.test(t))e.style.right=-s+"px";if(/^leftpanel$/.test(t)){hs.setStyles(e,{right:"100%",marginRight:this.x.cb+"px",top:-this.y.cb+"px",bottom:-this.y.cb+"px",overflow:"auto"});this.x.p1=e.offsetWidth}else if(/^rightpanel$/.test(t)){hs.setStyles(e,{left:"100%",marginLeft:this.x.cb+"px",top:-this.y.cb+"px",bottom:-this.y.cb+"px",overflow:"auto"});this.x.p2=e.offsetWidth}var h=e.parentNode.offsetHeight;e.style.height="auto";if(i&&e.offsetHeight>h)e.style.height=hs.ieLt7?h+"px":"100%";if(/^top/.test(t))e.style.top=n+"px";if(/^middle/.test(t))hs.setStyles(e,{top:"50%",marginTop:n-Math.round(e.offsetHeight/2)+"px"});if(/^bottom/.test(t))e.style.bottom=-n+"px";if(/^above$/.test(t)){hs.setStyles(e,{left:-this.x.p1-this.x.cb+"px",right:-this.x.p2-this.x.cb+"px",bottom:"100%",marginBottom:this.y.cb+"px",width:"auto"});this.y.p1=e.offsetHeight}else if(/^below$/.test(t)){hs.setStyles(e,{position:"relative",left:-this.x.p1-this.x.cb+"px",right:-this.x.p2-this.x.cb+"px",top:"100%",marginTop:this.y.cb+"px",width:"auto"});this.y.p2=e.offsetHeight;e.style.position="absolute"}},getOverlays:function(){this.getInline(["heading","caption"],true);this.getNumber();if(this.heading&&this.dragByHeading)this.heading.className+=" highslide-move";if(hs.showCredits)this.writeCredits();for(var e=0;e<hs.overlays.length;e++){var t=hs.overlays[e],i=t.thumbnailId,s=t.slideshowGroup;if(!i&&!s||i&&i==this.thumbsUserSetId||s&&s===this.slideshowGroup){this.createOverlay(t)}}var n=[];for(var e=0;e<this.overlays.length;e++){var t=hs.$("hsId"+this.overlays[e]);if(/panel$/.test(t.position))this.positionOverlay(t);else hs.push(n,t)}for(var e=0;e<n.length;e++)this.positionOverlay(n[e]);this.gotOverlays=true},genOverlayBox:function(){if(!this.overlayBox)this.overlayBox=hs.createElement("div",{className:this.wrapperClassName},{position:"absolute",width:(this.x.size||(this.useBox?this.width:null)||this.x.full)+"px",height:(this.y.size||this.y.full)+"px",visibility:"hidden",overflow:"hidden",zIndex:hs.ie?4:"auto"},hs.container,true)},sizeOverlayBox:function(e,t){var i=this.overlayBox,s=this.x,n=this.y;hs.setStyles(i,{width:s.size+"px",height:n.size+"px"});if(e||t){for(var h=0;h<this.overlays.length;h++){var a=hs.$("hsId"+this.overlays[h]);var o=hs.ieLt7||document.compatMode=="BackCompat";if(a&&/^(above|below)$/.test(a.position)){if(o){a.style.width=i.offsetWidth+2*s.cb+s.p1+s.p2+"px"}n[a.position=="above"?"p1":"p2"]=a.offsetHeight}if(a&&o&&/^(left|right)panel$/.test(a.position)){a.style.height=i.offsetHeight+2*n.cb+"px"}}}if(e){hs.setStyles(this.content,{top:n.p1+"px"});hs.setStyles(i,{top:n.p1+n.cb+"px"})}},showOverlays:function(){var e=this.overlayBox;e.className="";hs.setStyles(e,{top:this.y.p1+this.y.cb+"px",left:this.x.p1+this.x.cb+"px",overflow:"visible"});if(hs.safari)e.style.visibility="visible";this.wrapper.appendChild(e);for(var t=0;t<this.overlays.length;t++){var i=hs.$("hsId"+this.overlays[t]);i.style.zIndex=i.hsId=="controls"?5:4;if(!i.hideOnMouseOut||this.mouseIsOver){i.style.visibility="visible";hs.setStyles(i,{visibility:"visible",display:""});hs.animate(i,{opacity:i.opacity},i.dur)}}},destroyOverlays:function(){if(!this.overlays.length)return;if(this.slideshow){var e=this.slideshow.controls;if(e&&hs.getExpander(e)==this)e.parentNode.removeChild(e)}for(var t=0;t<this.overlays.length;t++){var i=hs.$("hsId"+this.overlays[t]);if(i&&i.parentNode==hs.viewport&&hs.getExpander(i)==this)hs.discardElement(i)}hs.discardElement(this.overlayBox)},createFullExpand:function(){if(this.slideshow&&this.slideshow.controls){this.slideshow.enable("full-expand");return}this.fullExpandLabel=hs.createElement("a",{href:"javascript:hs.expanders["+this.key+"].doFullExpand();",title:hs.lang.fullExpandTitle,className:"highslide-full-expand"});this.createOverlay({overlayId:this.fullExpandLabel,position:hs.fullExpandPosition,hideOnMouseOut:true,opacity:hs.fullExpandOpacity})},doFullExpand:function(){try{if(this.fullExpandLabel)hs.discardElement(this.fullExpandLabel);this.focus();var e=this.x.size;this.resizeTo(this.x.full,this.y.full);var t=this.x.pos-(this.x.size-e)/2;if(t<hs.marginLeft)t=hs.marginLeft;this.moveTo(t,this.y.pos);this.doShowHide("hidden")}catch(i){this.error(i)}},afterClose:function(){this.a.className=this.a.className.replace("highslide-active-anchor","");this.doShowHide("visible");if(this.outline&&this.outlineWhileAnimating)this.outline.destroy();hs.discardElement(this.wrapper);this.destroyOverlays();if(!hs.viewport.childNodes.length)hs.viewport.style.display="none";if(this.dimmingOpacity)hs.undim(this.key);hs.expanders[this.key]=null;hs.reOrder()}};hs.Slideshow=function(e,t){if(hs.dynamicallyUpdateAnchors!==false)hs.updateAnchors();this.expKey=e;for(var i in t)this[i]=t[i];if(this.useControls)this.getControls();if(this.thumbstrip)this.thumbstrip=hs.Thumbstrip(this)};hs.Slideshow.prototype={getControls:function(){this.controls=hs.createElement("div",{innerHTML:hs.replaceLang(hs.skin.controls)},null,hs.container);var e=["play","pause","previous","next","move","full-expand","close"];this.btn={};var t=this;for(var i=0;i<e.length;i++){this.btn[e[i]]=hs.getElementByClass(this.controls,"li","highslide-"+e[i]);this.enable(e[i])}this.btn.pause.style.display="none"},checkFirstAndLast:function(){if(this.repeat||!this.controls)return;var e=hs.expanders[this.expKey],t=e.getAnchorIndex(),i=/disabled$/;if(t==0)this.disable("previous");else if(i.test(this.btn.previous.getElementsByTagName("a")[0].className))this.enable("previous");if(t+1==hs.anchors.groups[e.slideshowGroup||"none"].length){this.disable("next");this.disable("play")}else if(i.test(this.btn.next.getElementsByTagName("a")[0].className)){this.enable("next");this.enable("play")}},enable:function(e){if(!this.btn)return;var t=this,i=this.btn[e].getElementsByTagName("a")[0],s=/disabled$/;i.onclick=function(){t[e]();return false};if(s.test(i.className))i.className=i.className.replace(s,"")},disable:function(e){if(!this.btn)return;var t=this.btn[e].getElementsByTagName("a")[0];t.onclick=function(){return false};if(!/disabled$/.test(t.className))t.className+=" disabled"},hitSpace:function(){if(this.autoplay)this.pause();else this.play()},play:function(e){if(this.btn){this.btn.play.style.display="none";this.btn.pause.style.display=""}this.autoplay=true;if(!e)hs.next(this.expKey)},pause:function(){if(this.btn){this.btn.pause.style.display="none";this.btn.play.style.display=""}clearTimeout(this.autoplay);this.autoplay=null},previous:function(){this.pause();hs.previous(this.btn.previous)},next:function(){this.pause();hs.next(this.btn.next)},move:function(){},"full-expand":function(){hs.getExpander().doFullExpand()},close:function(){hs.close(this.btn.close)}};hs.Thumbstrip=function(e){function t(e){hs.extend(h||{},{overlayId:d,hsId:"thumbstrip",className:"highslide-thumbstrip-"+a+"-overlay "+(h.className||"")});if(hs.ieLt7)h.fade=0;e.createOverlay(h);hs.setStyles(d.parentNode,{overflow:"hidden"})}function i(e){s(undefined,Math.round(e*d[l?"offsetWidth":"offsetHeight"]*.7))}function s(t,i){if(t===undefined)for(var s=0;s<n.length;s++){if(n[s]==hs.expanders[e.expKey].a){t=s;break}}if(t===undefined)return;var h=d.getElementsByTagName("a"),a=h[t],o=a.parentNode,r=l?"Left":"Top",p=l?"Right":"Bottom",y=l?"Width":"Height",v="offset"+r,x="offset"+y,w=u.parentNode.parentNode[x],b=w-m[x],z=parseInt(m.style[l?"left":"top"])||0,T=z,E=20;if(i!==undefined){T=z-i;if(b>0)b=0;if(T>0)T=0;if(T<b)T=b}else{for(var s=0;s<h.length;s++)h[s].className="";a.className="highslide-active-anchor";var S=t>0?h[t-1].parentNode[v]:o[v],I=o[v]+o[x]+(h[t+1]?h[t+1].parentNode[x]:0);if(I>w-z)T=w-I;else if(S<-z)T=-S}var O=o[v]+(o[x]-g[x])/2+T;hs.animate(m,l?{left:T}:{top:T},null,"easeOutQuad");hs.animate(g,l?{left:O}:{top:O},null,"easeOutQuad");f.style.display=T<0?"block":"none";c.style.display=T>b?"block":"none"}var n=hs.anchors.groups[hs.expanders[e.expKey].slideshowGroup||"none"],h=e.thumbstrip,a=h.mode||"horizontal",o=a=="float",r=o?["div","ul","li","span"]:["table","tbody","tr","td"],l=a=="horizontal",d=hs.createElement("div",{className:"highslide-thumbstrip highslide-thumbstrip-"+a,innerHTML:'<div class="highslide-thumbstrip-inner">'+"<"+r[0]+"><"+r[1]+"></"+r[1]+"></"+r[0]+"></div>"+'<div class="highslide-scroll-up"><div></div></div>'+'<div class="highslide-scroll-down"><div></div></div>'+'<div class="highslide-marker"><div></div></div>'},{display:"none"},hs.container),p=d.childNodes,u=p[0],f=p[1],c=p[2],g=p[3],m=u.firstChild,y=d.getElementsByTagName(r[1])[0],v;for(var x=0;x<n.length;x++){if(x==0||!l)v=hs.createElement(r[2],null,null,y);(function(){var e=n[x],t=hs.createElement(r[3],null,null,v),i=x;hs.createElement("a",{href:e.href,onclick:function(){hs.getExpander(this).focus();return hs.transit(e)},innerHTML:hs.stripItemFormatter?hs.stripItemFormatter(e):e.innerHTML},null,t)})()}if(!o){f.onclick=function(){i(-1)};c.onclick=function(){i(1)};hs.addEventListener(y,document.onmousewheel!==undefined?"mousewheel":"DOMMouseScroll",function(e){var t=0;e=e||window.event;if(e.wheelDelta){t=e.wheelDelta/120;if(hs.opera)t=-t}else if(e.detail){t=-e.detail/3}if(t)i(-t*.2);if(e.preventDefault)e.preventDefault();e.returnValue=false})}return{add:t,selectThumb:s}};hs.langDefaults=hs.lang;var HsExpander=hs.Expander;if(hs.ie){(function(){try{document.documentElement.doScroll("left")}catch(e){setTimeout(arguments.callee,50);return}hs.ready()})()}hs.addEventListener(document,"DOMContentLoaded",hs.ready);hs.addEventListener(window,"load",hs.ready);hs.addEventListener(document,"ready",function(){if(hs.expandCursor||hs.dimmingOpacity){var e=hs.createElement("style",{type:"text/css"},null,document.getElementsByTagName("HEAD")[0]);function t(t,i){if(!hs.ie){e.appendChild(document.createTextNode(t+" {"+i+"}"))}else{var s=document.styleSheets[document.styleSheets.length-1];if(typeof s.addRule=="object")s.addRule(t,i)}}function i(e){return"expression( ( ( ignoreMe = document.documentElement."+e+" ? document.documentElement."+e+" : document.body."+e+" ) ) + 'px' );"}if(hs.expandCursor)t(".highslide img","cursor: url("+hs.graphicsDir+hs.expandCursor+"), pointer !important;");t(".highslide-viewport-size",hs.ie&&(hs.uaVersion<7||document.compatMode=="BackCompat")?"position: absolute; "+"left:"+i("scrollLeft")+"top:"+i("scrollTop")+"width:"+i("clientWidth")+"height:"+i("clientHeight"):"position: fixed; width: 100%; height: 100%; left: 0; top: 0")}});hs.addEventListener(window,"resize",function(){hs.getPageSize();if(hs.viewport)for(var e=0;e<hs.viewport.childNodes.length;e++){var t=hs.viewport.childNodes[e],i=hs.getExpander(t);i.positionOverlay(t);if(t.hsId=="thumbstrip")i.slideshow.thumbstrip.selectThumb()}});hs.addEventListener(document,"mousemove",function(e){hs.mouse={x:e.clientX,y:e.clientY}});hs.addEventListener(document,"mousedown",hs.mouseClickHandler);hs.addEventListener(document,"mouseup",hs.mouseClickHandler);hs.addEventListener(document,"ready",hs.getAnchors);hs.addEventListener(window,"load",hs.preloadImages)}